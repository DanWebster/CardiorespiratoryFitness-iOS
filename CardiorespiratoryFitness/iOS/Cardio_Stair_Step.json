{
    "identifier": "Cardio Stair Step",
    "schemaInfo": {
        "identifier": "Cardio Stair Step",
        "revision": 2
    },
    "shouldHideActions": ["goBackward", "skip"],
    "progressMarkers": [],
    "steps": [{
        "identifier": "introduction",
        "type": "overview",
        "title": "Heart Rate Recovery",
        "text": "You will be stepping up and down a step for 3 minutes to raise your heart rate. Right after you finish stepping, measure your heart rate for 1 minute to see how your heart rate recovers.",
        "permissions": [{
            "permissionType": "camera",
            "reason": "Heart Snapshot uses the camera and flash on the back of your phone to measure your heart rate."
        }],
        "image": {
            "type": "fetchable",
            "imageName": "stairStepSmall1",
            "placementType": "topBackground"
        },
        "icons": [{
            "icon": "StairsIcon",
            "title": "A STEP"
        }],
        "actions": {
            "goForward": {
                "type": "default",
                "buttonTitle": "Measure"
            },
            "skip": {
                "type": "reminder",
                "reminderIdentifier": "Cardio Stair Step"
            }
        }
    },
    {
        "identifier": "heartRisk",
        "type": "instruction",
        "image": {
            "type": "fetchable",
            "imageName": "AlertIcon",
            "placementType": "iconBefore"
        },
        "title": "Potential risks",
        "text": "If a doctor has told you not to exercise, or if you feel that stepping up and down a step for 3 minutes will be painful or too difficult, please do not do this activity.",
        "actions": {
            "goForward": {
                "type": "default",
                "buttonTitle": "Next"
            }
        }
    },
    {
        "identifier": "volumeUp",
        "type": "instruction",
        "title": "Volume turned up?",
        "text": "Bring your phone with you and turn up your phone volume so you can hear the instructions while you are stair stepping.",
        "image": {
            "type": "fetchable",
            "imageName": "VolumeUp",
            "placementType": "topBackground"
        },
        "actions": {
            "goForward": {
                "type": "default",
                "buttonTitle": "Itâ€™s turned on"
            }
        }
    },
    {
        "identifier": "stairStep",
        "type": "section",
        "steps": [{
            "identifier": "bringPhone",
            "type": "instruction",
            "title": "Please step with your phone",
            "text": "You will step up and down for 3 minutes. Try to step with the pace.",
            "image": {
                "type": "fetchable",
                "imageName": "stairStepSmall1",
                "placementType": "topBackground"
            },
            "actions": {
                "goForward": {
                    "type": "default",
                    "buttonTitle": "Start"
                }
            }
        },
        {
            "identifier": "countdown",
            "type": "countdown",
            "text": "Start in",
            "duration": 10,
            "commands": ["playSoundOnStart", "transitionAutomatically"]
        },
        {
            "identifier": "motion",
            "type": "active",
            "duration": 180,
            "text": "Stand still",
            "image": {
                "type": "animated",
                "imageNames": ["stairStepLarge1", "stairStepLarge2", "stairStepLarge3", "stairStepLarge4"],
                "placementType": "topBackground",
                "animationDuration": 2.5
            },
            "commands": ["transitionAutomatically", "shouldDisableIdleTimer", "vibrate", "playSoundOnFinish"],
            "spokenInstructions": {
                "end": "Done! Now measure your heart rate again."
            },
            "viewTheme": {
                "viewIdentifier": "StairStep",
                "storyboardIdentifier": "ActiveTaskSteps"
            }
        }
        ]
    },
    {
        "identifier": "heartRate",
        "type": "heartRate",
        "duration": 60,
        "isResting": false
    },
    {
        "identifier": "feedback",
        "type": "completion",
        "resultTitle": "Your recovery heart rate is",
        "resultIdentifier": "heartRate",
        "unitText": "BPM",
        "title": "Recovery HR Captured!",
        "text": "Changing your Recovery HR can take time. You can change it over weeks or months by losing weight or exercising.",
        "actions": {
            "goForward": {
                "type": "default",
                "buttonTitle": "Calculate"
            },
            "skip": {
                "type": "navigation",
                "skipToIdentifier": "exit",
                "buttonTitle": "Skip calculation"
            }
        }
    },
    {
        "identifier": "recoveryScoreIntros",
        "type": "instruction",
        "title": "Recovery HR Questions",
        "text": "To calculate your Recovery HR score, we first need to know a few things about you like your sex, height, weight, and age.",
        "image": {
            "type": "fetchable",
            "imageName": "RecoveryQuestions",
            "placementType": "iconBefore"
        },
        "actions": {
            "goForward": {
                "type": "default",
                "buttonTitle": "Start"
            }
        }
    },
    {
        "identifier": "biologicalSex",
        "type": "form",
        "title": "What was your sex at birth?",
        "inputFields": [{
            "uiHint": "list",
            "type": "singleChoice.string",
            "choices": [{
                "text": "Male",
                "value": "Male"
            },
            {
                "text": "Female",
                "value": "Female"
            },
            {
                "text": "Other",
                "value": "Other"
            }
            ]
        }],
        "actions": {
            "goForward": {
                "type": "default",
                "buttonTitle": "Next"
            },
            "goBackward": {
                "type": "default",
                "buttonTitle": "Back"
            }
        }
    },
    {
        "identifier": "birthYear",
        "type": "form",
        "title": "What year were you born?",
        "inputFields": [{
            "type": "year",
            "uiHint": "textfield",
            "range": {
                "allowFuture": false
            }
        }],
        "actions": {
            "goForward": {
                "type": "default",
                "buttonTitle": "Next"
            },
            "goBackward": {
                "type": "default",
                "buttonTitle": "Back"
            }
        }
    },
    {
        "identifier": "completion",
        "type": "completion",
        "resultTitle": "Your Recovery HR Score is estimated between",
        "resultIdentifier": "heartRate",
        "title": "Recovery HR Score",
        "text": "Heart Snapshot uses the camera and flash on the back of your phone to measure your heart rate.",
        "actions": {
            "goForward": {
                "type": "default",
                "buttonTitle": "Done"
            },
            "learnMore": {
                "type": "webView",
                "title": "What is a Recovery HR Score?",
                "backButton": true,
                "url": "HR_Recovery_Score.html",
                "buttonTitle": "What is a Recovery HR Score?"
            }
        },
        "viewTheme": {
            "viewIdentifier": "HRRecovery",
            "storyboardIdentifier": "ActiveTaskSteps"
        }
    }
    ]
}
